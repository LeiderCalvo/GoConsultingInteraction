<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GoConsulting</title>
    <script src="https://cdn.jsdelivr.net/npm/p5@0.10.2/lib/p5.js"></script>
</head>
    
<body id="body" style="margin: 0;">
<script>
    let sketch = ( app ) => {
        disciplinas = [
            {name: 'Account Manager', description: 'They serve as the voice of a company in communications, generally responsible for managing and handling messages in both directions. Account Managers are involved in various activities such as communications,  PR, social media, events, and content creation.', size: 3, color: ' #E34651', svg: 'card'},
            {name: 'Android Developer', description: "Responsible for developing applications for devices powered by the Android operating system. With expertise in Java and/or Kotlin programming languages. Must pay special attention to the application's compatibility with multiple versions of Android and device types.", size: 3, color: '#7C33FF', svg: 'android'},
            {name: 'iOS Developer', description: "Responsible for developing applications for mobile devices powered by Apple's iOS operating system. Ideally, a good iOS developer is proficient with one of the two programming languages for this platform: Objective-C or Swift.", size: 3, color: '#5ED4F7', svg: 'apple'},
            {name: 'Multimedia Engenier', description: 'Campo de la ingeniería que combina disciplinas y prácticas de las ingenierías Informática, Electrónica y de Telecomunicaciones, con los contenidos multimedia, con capacidad para el desarrollo de audio, video, desarrollo web y móvil, diseño y desarrollo de videojuegos.', size: 3, color: '#E34651', svg: 'conection'},
            {name: 'Copywriter', description: 'A copywriter is someone who writes for the internet. They create informative content for businesses that is designed to guide the reader’s own research. Copywriters are responsible for the text on brochures, billboards, websites, emails, advertisements, catalogs, and more. This text is known as “copy.”.', size: 3, color: '#7C33FF', svg: 'pen'},
            {name: 'UX/UI expert', description: 'UX refers to the user experience, which focuses on how something works and how people interact with it, An UX designer ensures a product makes sense to the user by creating a path that logically flows from one step to the next. UI is the specific asset users interact with, so the UI designer ensures each page visually communicates that path.', size: 3, color: '#5ED4F7', svg: 'red'},
            {name: 'Database Engenier', description: 'Engineers with a Large and diverse area of IT skills that may be specific to a particular type of database such as relational or NoSql databases, who may work as either applications or systems software developers, generally employed by companies to design and monitor complex databases.', size: 3, color: '#E34651', svg: 'db'},
            {name: 'Digital Marketing Strategist', description: "A digital marketing specialist, is responsible for developing the strategy used in marketing a company's product or service online, utilizing such techniques in the field as social media, Web analytics, e-mail marketing and search engine optimization (SEO), among others.", size: 3, color: '#7C33FF', svg: 'voice'},
            {name: 'Web Designer', description: 'A web designer is both creative and technically inclined, and uses both these attributes to build or redesign websites. The web designer has the ability to understand what is needed to make a website functional and easy to use, but at the same time make it aesthetically appealing to the user.', size: 3, color: '#5ED4F7', svg: 'mouse'},
            {name: 'Front-end/Back-end Developers', description: `The front-end is everything involved with what the user sees, including design and some languages like HTML and CSS. The back-end, or the "server-side", is basically how the site works, updates, and changes. This refers to everything the user can't see in the browser, like algorithms, databases and servers.`, size: 3, color: '#7C33FF', svg: 'html'}
        ];

        particles = [];
        fontRegular = null, fontBold= null;
        
        INTERVALTIME = 3000;
        interval = null;
        autoIndex = 0;

        app.preload = () => {
            fontRegular = app.loadFont('assets/Poppins-Regular.ttf');
            fontBold = app.loadFont('assets/Poppins-Bold.ttf');
        }

        app.setup = () => {
            let cnv = app.createCanvas(app.windowWidth, app.windowHeight);
            cnv.parent('body');

            disciplinas.map((elem, i) => {
                let pos = app.createVector(0,1);
                pos.rotate(((2*app.PI)/disciplinas.length)*i);
                particles.push(new Particle(pos, elem.size, elem.color, elem.svg, app));
            });

            app.imageMode(app.CENTER);
            app.textAlign(app.CENTER, app.CENTER);
            app.textSize(14);

            interval = setInterval( incrementInterval, INTERVALTIME);
        }

        function incrementInterval(){
            particles.map(elem => elem.setAutoHover(false));
            autoIndex + 1 === disciplinas.length ? autoIndex = 0 : autoIndex += 1;
        }

        app.draw = () => {
            app.background('#fff');
            app.push();
            app.translate(app.width / 2, app.height / 2);

            particles.map( (elem, i) => {
                elem.paint();
                elem.unHover();
            });

            userAction();
            app.pop();
        }

        function userAction() {
            let index = particles.findIndex( part => part.onHover === true );
            if( index !== -1){
                particles[autoIndex].setAutoHover(false);
                clearInterval(interval);
                interval = null;
                paintText(index);
                return;
            }else{
                //app.textFont(fontRegular);
                //app.text('¡Haz click en los iconos  para conocer a tu equipo!', 0, 0);
                particles[autoIndex].setAutoHover(true);
                if(interval === null)interval = setInterval(incrementInterval, INTERVALTIME);
                paintText(autoIndex);
                particles.map( elem => {elem.hover(); elem.move();} );
            }
        }

        function paintText(index) {
            app.fill(0);
            app.textFont(fontBold);
            app.text(disciplinas[index].name, 0, -70);
            app.textFont(fontRegular);
            app.text(disciplinas[index].description, -140, -130, 280, 300);
        }

        class Particle {
            constructor(pos, r, color, svg, app){
                this.app = app;
                this.color = color;
                pos.mult(240*.85);
                this.pos = pos;
                this.r = app.map(r, 1,3, 40, 75);
                this.speed = 0.003*.75;
                this.onHover = false;
                this.svg = app.loadImage("assets/"+svg+".svg");
                this.autoHover = false;
            }

            paint() {
                app.noStroke();
                app.fill( this.onHover || this.autoHover? this.color : '#2B303A');
                app.circle(this.pos.x,this.pos.y,this.r);
                app.image(this.svg, this.pos.x,this.pos.y);
            }

            move() {
                !this.onHover && this.pos.rotate(this.speed);
            }

            hover() {
                if(app.dist(this.pos.x, this.pos.y, app.mouseX-(app.width / 2), app.mouseY-(app.height / 2)) <= this.r/2) this.onHover = true;
            }

            unHover() {
                if(app.dist(this.pos.x, this.pos.y, app.mouseX-(app.width / 2), app.mouseY-(app.height / 2)) >= this.r/2) this.onHover = false;
            }

            setAutoHover(val){
                this.autoHover = val;
            }
        }
    }
    let myP5 = new p5(sketch);
</script>
</body>
</html>